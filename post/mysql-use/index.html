<!doctype html><html lang=zh-cn dir=content/zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=content-security-policy content="upgrade-insecure-requests"><title>Mysql-use notes - 奔赴下一场山海</title><meta name=keywords content="博客,程序员,架构师,思考,读书,笔记,技术,分享,大数据,产品"><meta name=author content="Murphy"><meta property="og:title" content="Mysql-use notes"><meta property="og:site_name" content="奔赴下一场山海"><meta property="og:image" content="/img/author.jpg"><meta name=title content="Mysql-use notes - 奔赴下一场山海"><meta name=description content="SQL"><link rel="shortcut icon" href=/img/favicon.ico><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed href=/img/apple-touch-icon.png><link href=//cdn.bootcdn.net/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css rel=stylesheet type=text/css><link href=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.css rel=stylesheet><link href=/css/main.css rel=stylesheet type=text/css><link href=/css/syntax.css rel=stylesheet type=text/css></head><body itemscope itemtype=http://schema.org/WebPage lang=zh-hans><div class="container one-collumn sidebar-position-left page-home"><div class=headband></div><header id=header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle role=button style=opacity:1;top:0><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><div class=multi-lang-switch><i class="fa fa-fw fa-language" style=margin-right:5px></i>
<a class=lang-link id=zh-cn href=#>中文</a></div><div class=custom-logo-site-title><a href=/ class=brand rel=start><span class=logo-line-before><i></i></span>
<span class=site-title>奔赴下一场山海</span>
<span class=logo-line-after><i></i></span></a></div><p class=site-subtitle>但远山长，云山乱，晓山青。</p></div><div class=site-nav-right><div class="toggle popup-trigger" style=opacity:1;top:0><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul id=menu class=menu><li class=menu-item><a href=/ rel=section><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class=menu-item><a href=/post rel=section><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class=menu-item><a href=/about.html rel=section><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于我</a></li><li class=menu-item><a href=/404.html rel=section><i class="menu-item-icon fa fa-fw fa-heartbeat"></i><br>公益404</a></li><li class="menu-item menu-item-search"><a href=javascript:; class=popup-trigger><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class=site-search><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class=search-icon><i class="fa fa-search"></i></span>
<span class=popup-btn-close><i class="fa fa-times-circle"></i></span><div class=local-search-input-wrapper><input autocomplete=off placeholder=搜索关键字... spellcheck=false type=text id=local-search-input autocapitalize=none autocorrect=off></div></div><div id=local-search-result></div></div></div></nav></div></header><main id=main class=main><div class=main-inner><div class=content-wrap><div id=content class=content><section id=posts class=posts-expand><article class="post post-type-normal" itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href=https://murphyhanxu.github.io/post/mysql-use/ itemprop=url>Mysql-use notes</a></h1><div class=post-meta><span class=post-time><i class="fa fa-calendar-o fa-fw"></i>
<span class=post-meta-item-text>时间：</span>
<time itemprop=dateCreated datetime=2016-03-22T13:04:35+08:00 content="2022-06-30">2022-06-30</time></span>
<span class=post-category>&nbsp; | &nbsp;
<i class="fa fa-folder-o fa-fw"></i>
<span class=post-meta-item-text>分类：</span>
<span itemprop=about itemscope itemtype=https://schema.org/Thing><a href=/categories/cs itemprop=url rel=index style=text-decoration:underline><span itemprop=name>CS</span></a>
&nbsp;</span></span>
<span>|
<i class="fa fa-file-word-o fa-fw"></i>
<span class=post-meta-item-text>字数：</span>
<span class=leancloud-world-count>12442 字</span></span>
<span>|
<i class="fa fa-eye fa-fw"></i>
<span class=post-meta-item-text>阅读：</span>
<span class=leancloud-view-count>25分钟</span></span>
<span id=/post/mysql-use/ class=leancloud_visitors data-flag-title="Mysql-use notes">|
<i class="fa fa-binoculars fa-fw"></i>
<span class=post-meta-item-text>阅读次数：</span>
<span class=leancloud-visitors-count></span></span></div></header><div class=post-body itemprop=articleBody><p>学习Mysql<a href="https://www.bilibili.com/video/BV12b411K7Zu?spm_id_from=333.337.search-card.all.click&vd_source=b3b5aca8a2675b381887886fba026f67">视频</a>记录的笔记
整理MySQL最常用的SQL语句（增删改查CRUD）。
更多的命令可参考：https://www.runoob.com/mysql/mysql-select-database.html</p><p>#Mysql-use</p><h2 id=常用命令>常用命令</h2><p>执行下列SQL语句前，请参照上节内容登录MySQL环境。</p><ol><li><p>选择数据库（上节已创建数据库mypython）。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>use</span><span style=color:#bbb> </span>mypython;<span style=color:#bbb>
</span></span></span></code></pre></div><p>系统提示“Database changed”代表操作成功。</p></li><li><p>查看系统中默认的表。</p><p>在我们创建数据库时，系统会默认创建一些表。使用如下命令可查看。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>show</span><span style=color:#bbb> </span><span style=color:#a2f>tables</span>;<span style=color:#bbb>
</span></span></span></code></pre></div></li><li><p>查看其他库的所有表。</p><p>当已经在一个库中，想查看另外库的表，可用如下命令。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#a2f;font-weight:700>show</span><span style=color:#bbb> </span><span style=color:#a2f>tables</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span>库名；</span><span style=color:#bbb> 
</span></span></span></code></pre></div></li><li><p>使用create table语句，创建自己的表。</p><p>下例的表名为students_info，他有id，name，gender，class四个字段，其中id为主键。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>create</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>table</span><span style=color:#bbb> </span><span style=color:#00a000>students_info</span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>id<span style=color:#bbb> </span><span style=color:#0b0;font-weight:700>varchar</span>(<span style=color:#666>10</span>)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>not</span><span style=color:#bbb> </span><span style=color:#800>null</span>,<span style=color:#bbb> </span><span style=color:#080;font-style:italic>#列名 列类型
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>name<span style=color:#bbb> </span><span style=color:#0b0;font-weight:700>varchar</span>(<span style=color:#666>10</span>)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>not</span><span style=color:#bbb> </span><span style=color:#800>null</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>gender<span style=color:#bbb> </span><span style=color:#0b0;font-weight:700>varchar</span>(<span style=color:#666>10</span>),<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>class<span style=color:#bbb> </span><span style=color:#0b0;font-weight:700>int</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>primary</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>key</span><span style=color:#bbb> </span>(id)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb> </span>);<span style=color:#bbb>
</span></span></span></code></pre></div><p>下例的表名为test_scores，他有id，student_id，subject，score，submit_date四个字段，id为主键，且为自增长字段，即每次插入数据时自动加1。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>create</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>table</span><span style=color:#bbb> </span><span style=color:#00a000>test_scores</span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>id<span style=color:#bbb> </span><span style=color:#0b0;font-weight:700>int</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>not</span><span style=color:#bbb> </span><span style=color:#800>null</span><span style=color:#bbb>  </span><span style=color:#a2f>auto_increment</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>student_id<span style=color:#bbb> </span><span style=color:#0b0;font-weight:700>varchar</span>(<span style=color:#666>10</span>)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>not</span><span style=color:#bbb> </span><span style=color:#800>null</span><span style=color:#bbb> </span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>subject<span style=color:#bbb> </span><span style=color:#0b0;font-weight:700>varchar</span>(<span style=color:#666>10</span>)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>not</span><span style=color:#bbb> </span><span style=color:#800>null</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>score<span style=color:#bbb> </span><span style=color:#0b0;font-weight:700>int</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>not</span><span style=color:#bbb> </span><span style=color:#800>null</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>submit_date<span style=color:#bbb> </span><span style=color:#0b0;font-weight:700>Date</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>primary</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>key</span><span style=color:#bbb>  </span>(id)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb> </span>);<span style=color:#bbb>
</span></span></span></code></pre></div><p>创建完毕，可以重复步骤2的命令（show tables），检查是否创建成功。</p></li><li><p>查看服务器版本</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>version</span>()<span style=color:#bbb>
</span></span></span></code></pre></div></li></ol><h2 id=mysql的语法规范>MYSQL的语法规范</h2><ol><li><p>不区分大小写，但建议关键字大写，表明、列名小写</p></li><li><p>每条命令最好用分号结尾</p></li><li><p>每条命令根据需要，可以进行缩进或换行</p></li><li><p>注释</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span>单行注释：</span><span style=color:#080;font-style:italic>#注释内容
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span>单行注释：</span><span style=color:#666>--</span><span>注释内容</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span>多行注释：</span><span style=color:#080;font-style:italic>/*注释内容*/</span><span style=color:#bbb>
</span></span></span></code></pre></div></li></ol><h2 id=dql语言的学习>DQL语言的学习</h2><h3 id=基础查询>基础查询</h3><ol><li><p>查询常量、表达式、函数</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span>内容</span><span style=color:#666>1</span>,<span>内容</span><span style=color:#666>2</span>...<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span>表名；</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>查询的结果是一个虚拟的表格</p></li><li><p>起别名</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span>内容</span><span style=color:#666>1</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span><span>别名</span><span style=color:#666>1</span>,<span>内容</span><span style=color:#666>2</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span><span>别名</span><span style=color:#666>2</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span>表名</span>;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span>内容</span><span style=color:#666>1</span><span style=color:#bbb> </span><span>别名</span><span style=color:#666>1</span>,<span>内容</span><span style=color:#666>2</span><span style=color:#bbb> </span><span>别名</span><span style=color:#666>2</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span>表名</span>;<span style=color:#bbb>
</span></span></span></code></pre></div></li><li><p>去重</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>distinct</span><span style=color:#bbb> </span><span>内容</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span>表名</span>;<span style=color:#bbb>
</span></span></span></code></pre></div></li><li><p>+号的作用</p><p>只有一个功能：运算符。</p><p>select 100+90; 两个操作数都为数值型，则做加法运算。</p><p>select &lsquo;123&rsquo;+321; 其中一方为字符型，试图将字符型数值转换成数值型。如果转换成功，则继续做加法运算。如果转换失败，则将字符型数值转换成0。</p><p>select null+1; 只要其中一方为null，则结果一定为null。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span>内容</span><span style=color:#666>1</span><span style=color:#666>+</span><span>内容</span><span style=color:#666>2</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span><span>别名</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span>表名</span>;<span style=color:#bbb>
</span></span></span></code></pre></div></li><li><p>使用concat进行连接</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>concat</span>(<span>内容</span><span style=color:#666>1</span><span>，内容</span><span style=color:#666>2</span>)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span><span>别名</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span>表名</span>;<span style=color:#bbb>
</span></span></span></code></pre></div></li></ol><h3 id=条件查询>条件查询</h3><ol><li><p>where语法</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span>内容</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span>表名</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span><span>筛选条件</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>根据筛选条件可分类：</p><p>1.按条件表达式筛选。条件运算符：＞,＜,＝,&lt;>, >=, &lt;=</p><p>2.按逻辑表达式筛选。用于连接逻辑表达式。逻辑运算符：and, or, not</p><p>3.模糊查询。</p><p>​ like, 一般和通配符搭配使用，通配符：%：任意多（0）个字符，_：任意单个字符。</p><p>​ between and, data between 10 and 20等价于data >=10 and data &lt;=20</p><p>​ in, 判断某字段的值是否属于in列表中的某一项。使用in提高语句简洁度，in列表的值类型必须一致或兼容，不支持使用通配符。</p><p>​ is (not) null,=或&lt;>不能用于判断null值，is (not) null 可以用来判断null值。</p></li><li><p>安全等于&lt;=></p><p>安全等于既可以判断null值又可以判断普通数值，可读性低。</p><p>is (not) null只能判断null值，可读性高。</p></li></ol><h3 id=排序查询>排序查询</h3><ol><li><p>语法</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span>内容</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span>表名</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span><span>筛选条件</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>order</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span><span>排序列表</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>desc</span>(<span style=color:#a2f;font-weight:700>asc</span>)<span style=color:#bbb>
</span></span></span></code></pre></div><p>特点：</p><p>1.desc 降序，asc 升序。如果不写默认是升序。</p><p>2.order by子句中可以支持单个字段、多个字段、表达式、函数、别名。</p><p>3.order by子句一般是放在查询语句的最后面，limit子句除外。</p></li></ol><h3 id=常见函数>常见函数</h3><p>功能：类似于java的方法，将一组逻辑语句封装在方法体中，对外暴露方法名。</p><p>好处：1.隐藏了实现细节。2.提高代码的重用性。</p><p>调用：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span>函数名</span>()<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span>表名</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>分类：1.单行函数：如concat(), length(), ifnull() 等</p><p>​ 2.分组函数：做统计使用，又称为统计函数、聚合函数、组函数</p><ol><li><p>字符函数</p><p>length()：获取参数值的字节个数</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>length</span>(<span style=color:#b44>&#39;john&#39;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span style=color:#666>4</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>length</span>(<span style=color:#b44>&#39;我爱你&#39;</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span style=color:#666>9</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>concat()：拼接字符串</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>concat</span>(lastname,<span style=color:#b44>&#39;_&#39;</span>,firstname)<span style=color:#bbb> </span><span>姓名</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span></code></pre></div><p>upper(), lower()：大写小写</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>upper</span>(<span style=color:#b44>&#39;john&#39;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>lower</span>(<span style=color:#b44>&#39;JOHN&#39;</span>);<span style=color:#bbb>
</span></span></span></code></pre></div><p>substr(), substring()：返回子字符串</p><p>索引从1开始</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>substr</span>(<span style=color:#b44>&#39;柯西的柯西收敛原理&#39;</span>,<span style=color:#666>4</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span>柯西收敛原理</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>substr</span>(<span style=color:#b44>&#39;柯西的柯西收敛原理&#39;</span>,<span style=color:#666>4</span>,<span style=color:#666>4</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span>柯西收敛</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>instr()：返回子串第一次出现的索引，如果找不到返回0</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>instr</span>(<span style=color:#b44>&#39;有理数是实数集的稠子集&#39;</span>,<span style=color:#b44>&#39;实数集&#39;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span style=color:#666>5</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>trim()：掐头去尾</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>trim</span>(<span style=color:#b44>&#39;   你是人间肆月甜   &#39;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span>你是人间肆月甜</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>trim</span>(<span style=color:#b44>&#39;a&#39;</span><span style=color:#a2f;font-weight:700>from</span><span style=color:#b44>&#39;aaaaa你是人间肆月甜&#39;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span>你是人间肆月甜</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>lpad()：用指定字符实现左填充指定长度</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>lpad</span>(<span style=color:#b44>&#39;mathmatical analysis&#39;</span>,<span style=color:#666>5</span>,<span style=color:#b44>&#39;*&#39;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--*****</span>mathmatical<span style=color:#bbb> </span>analysis<span style=color:#bbb>
</span></span></span></code></pre></div><p>rpad()：用指定字符实现右填充指定长度</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>rpad</span>(<span style=color:#b44>&#39;mathmatical analysis&#39;</span>,<span style=color:#666>5</span>,<span style=color:#b44>&#39;*&#39;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span>mathmatical<span style=color:#bbb> </span>analysis<span style=color:#666>*****</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>replace()：替换</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>replace</span>(<span style=color:#b44>&#39;张无忌爱上了周芷若&#39;</span>,<span style=color:#b44>&#39;周芷若&#39;</span>,<span style=color:#b44>&#39;赵敏&#39;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span>张无忌爱上了赵敏</span><span style=color:#bbb>
</span></span></span></code></pre></div></li><li><p>数学函数</p><p>round()：四舍五入</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>round</span>(<span style=color:#666>5</span>.<span style=color:#666>567</span>,<span style=color:#666>2</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span style=color:#666>5</span>.<span style=color:#666>57</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>round</span>(<span style=color:#666>5</span>.<span style=color:#666>2</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span style=color:#666>5</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>ceil()：向上取整，返回>=改参数的最小整数</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>ceil</span>();<span style=color:#bbb>
</span></span></span></code></pre></div><p>floor()：向下取整，返回&lt;=改参数的最大整数</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>floor</span>(<span style=color:#666>-</span><span style=color:#666>9</span>.<span style=color:#666>99</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>-- -10
</span></span></span></code></pre></div><p>truncate()：截断</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>truncate</span>(<span style=color:#666>1</span>.<span style=color:#666>65</span>,<span style=color:#666>1</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span style=color:#666>1</span>.<span style=color:#666>6</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>mod()：取余</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>mod</span>(<span style=color:#666>10</span>,<span style=color:#666>3</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span style=color:#666>1</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>mod(a,b)=a-a/b*b</p></li><li><p>日期函数</p><p>now()：返回当前系统日期+时间</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>now</span>();<span style=color:#bbb>
</span></span></span></code></pre></div><p>curdate()：返回当前日期，不包含时间</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>curdate</span>();<span style=color:#bbb>
</span></span></span></code></pre></div><p>curtime()：返回当前时间，不包含日期</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>curtime</span>();<span style=color:#bbb>
</span></span></span></code></pre></div><p>year(), month(), monthname(), day(), hour(), minute(), second()：可以获取数据的对应值</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#0b0;font-weight:700>year</span>(<span style=color:#00a000>now</span>());<span style=color:#bbb>
</span></span></span></code></pre></div><p>str_to_date：将字符通过指定的格式转换成日期</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>str_to_date</span>(<span style=color:#b44>&#39;2002-2-19&#39;</span>,<span style=color:#b44>&#39;%Y-%c-%d&#39;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>--</span><span style=color:#666>2002</span><span style=color:#666>-</span><span style=color:#666>2</span><span style=color:#666>-</span><span style=color:#666>19</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>date_format：将日期转换成字符</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>date_format</span>(<span style=color:#00a000>now</span>(),<span style=color:#b44>&#39;%Y年%m月%d日&#39;</span>);<span style=color:#bbb>
</span></span></span></code></pre></div></li><li><p>其它函数</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>version</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>database</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>user</span>();<span style=color:#bbb>
</span></span></span></code></pre></div></li><li><p>流程控制函数</p><p>1.if()：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>if</span>(<span>表达式</span>,ans1,ans2);<span style=color:#bbb>
</span></span></span></code></pre></div><p>如果表达式为真，返回ans1。如果表达式为假，返回ans2。</p><p>2.case()：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>salary,<span style=color:#bbb> </span>department_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>case</span><span style=color:#bbb> </span>department_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>when</span><span style=color:#bbb> </span><span style=color:#666>30</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>then</span><span style=color:#bbb> </span>salary<span style=color:#666>*</span><span style=color:#666>1</span>.<span style=color:#666>1</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>when</span><span style=color:#bbb> </span><span style=color:#666>40</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>then</span><span style=color:#bbb> </span>salary<span style=color:#666>*</span><span style=color:#666>1</span>.<span style=color:#666>2</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>when</span><span style=color:#bbb> </span><span style=color:#666>50</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>then</span><span style=color:#bbb> </span>salary<span style=color:#666>*</span><span style=color:#666>1</span>.<span style=color:#666>3</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>else</span><span style=color:#bbb> </span>salary<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>end<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>new<span style=color:#bbb> </span>salary<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>salary,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>case</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>when</span><span style=color:#bbb> </span>salary<span style=color:#666>&gt;</span><span style=color:#666>20000</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>then</span><span style=color:#bbb> </span><span style=color:#b44>&#39;A&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>when</span><span style=color:#bbb> </span>salary<span style=color:#666>&gt;</span><span style=color:#666>15000</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>then</span><span style=color:#bbb> </span><span style=color:#b44>&#39;B&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>when</span><span style=color:#bbb> </span>salary<span style=color:#666>&gt;</span><span style=color:#666>10000</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>then</span><span style=color:#bbb> </span><span style=color:#b44>&#39;C&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>else</span><span style=color:#bbb> </span><span style=color:#b44>&#39;D&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>end<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>salary<span style=color:#bbb> </span>level<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span></code></pre></div></li></ol><h3 id=分组函数>分组函数</h3><p>功能：用作统计使用，又称为聚合函数或统计函数或组函数。</p><p>sum 求和，avg 平均值，max 最大值，min 最小值，count 计算个数</p><ol><li><p>简单的使用</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>sum</span>(salary)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>avg</span>(salary)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>min</span>(salary)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>max</span>(salary)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(salary)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>sum</span>(salary)<span style=color:#bbb> </span><span>和</span>,<span style=color:#bbb> </span><span style=color:#00a000>avg</span>(salary)<span style=color:#bbb> </span><span>平均</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span></code></pre></div></li><li><p>参数支持哪些类型</p><p>sum(), avg()，一般用于数值型。</p><p>max(), min()，可以处理任何类型。</p><p>count()，计算不为null的个数。</p></li><li><p>是否忽略null值</p><p>以上分组函数都忽略null值</p></li><li><p>可以和distinct搭配使用</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>sum</span>(<span style=color:#a2f;font-weight:700>distinct</span><span style=color:#bbb> </span>salary),<span style=color:#bbb> </span><span style=color:#00a000>sum</span>(salary)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#a2f;font-weight:700>distinct</span><span style=color:#bbb> </span>salary),<span style=color:#bbb> </span><span style=color:#00a000>count</span>(salary)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span></code></pre></div></li><li><p>count()函数的详细介绍</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(salary)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#666>*</span>)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#在表里写一列常量值并统计个数
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#666>1</span>)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span></code></pre></div><p>效率：</p><p>myisam存储引擎下，count(*)的效率高</p><p>innodb存储引擎下，count(*)和count(1)效率差不多，比count(字段)要高一些</p></li><li><p>和分组函数一同查询的字段有限制</p><p>和分组函数一同查询的字段要求是group by后的字段</p></li></ol><h3 id=分组查询>分组查询</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>group_function</span>(<span style=color:#a2f;font-weight:700>column</span>),<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>column</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>table</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>condition</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>group_by_expression<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>order</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>column</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>注意，查询列表必须特殊，要求是分组函数和group by后出现的字段</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>max</span>(salary),<span style=color:#bbb> </span>job_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>job_id;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#666>*</span>),<span style=color:#bbb> </span>location_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>departments<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>location_id;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>avg</span>(salary),<span style=color:#bbb> </span>department_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>email<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>like</span><span style=color:#bbb> </span><span style=color:#b44>&#39;%a%&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>department_id;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>max</span>(salary),<span style=color:#bbb> </span>manager_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>commision_pct<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>is</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>not</span><span style=color:#bbb> </span><span style=color:#800>null</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>manager_id;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#添加分组后的筛选
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#666>*</span>),<span style=color:#bbb> </span>department_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>department_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>having</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#666>*</span>)<span style=color:#666>&gt;</span><span style=color:#666>2</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#添加分组后的筛选
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>max</span>(salary),<span style=color:#bbb> </span>job_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>commission_pet<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>is</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>not</span><span style=color:#bbb> </span><span style=color:#800>null</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>job_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>having</span><span style=color:#bbb> </span><span style=color:#00a000>max</span>(salary)<span style=color:#666>&gt;</span><span style=color:#666>12000</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#添加分组后的筛选
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>min</span>(salary),<span style=color:#bbb> </span>manager_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>manager_id<span style=color:#666>&gt;</span><span style=color:#666>12</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>manager_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>having</span><span style=color:#bbb> </span><span style=color:#00a000>min</span>(salary)<span style=color:#666>&gt;</span><span style=color:#666>5000</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>按表达式或函数分组，例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#666>*</span>)<span style=color:#bbb> </span>c,<span style=color:#bbb> </span><span style=color:#00a000>length</span>(lase_name)<span style=color:#bbb> </span>len_name<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>len_name<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>having</span><span style=color:#bbb> </span>c<span style=color:#666>&gt;</span><span style=color:#666>5</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>按多个字段分组，例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>avg</span>(salary),<span style=color:#bbb> </span>department_id<span style=color:#bbb> </span>,<span style=color:#bbb> </span>job_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>department_id,<span style=color:#bbb> </span>job_id<span style=color:#bbb>
</span></span></span></code></pre></div><p>添加排序，例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>avg</span>(salary),<span style=color:#bbb> </span>department_id<span style=color:#bbb> </span>,<span style=color:#bbb> </span>job_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>department_id<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>is</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>not</span><span style=color:#bbb> </span><span style=color:#800>null</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>department_id,<span style=color:#bbb> </span>job_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>having</span><span style=color:#bbb> </span><span style=color:#00a000>avg</span>(salary)<span style=color:#666>&gt;</span><span style=color:#666>10000</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>order</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span><span style=color:#00a000>avg</span>(salary)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>desc</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>总结：</p><p>1.分组查询中的筛选条件分为两类。分组前筛选，分组后筛选。数据源不一样。前者为原始表，后者为分组后的结果集。位置不一样。前者为group by子句前，关键字为where，后者为group by子句后，关键字为having。</p><p>分组函数做条件肯定是放在having子句中。</p><p>2.group by子句支持单个字段分组，多个字段分组，表达式或函数</p><p>3.也可以添加排序（排序放在整个分组查询的最后）</p><h3 id=连接查询>连接查询</h3><p>含义：又称多表连接，当查询的字段来自于多个表时，就会用到连接查询。</p><p>笛卡尔乘积现象：表1有m行，表2有n行，结果=m*n行</p><p>发生原因：没有有效的连接条件</p><p>分类：</p><p>​ 按年代分类：sq192标准：仅支持内连接；</p><p>​ sq199标准：支持内连接，外连接（左外连接+右外连接），交叉连接</p><p>​ 按功能分类：内连接(inner)：等值连接；非等值连接，自连接。</p><p>​ 外连接：左外连接(left)；右外连接(right)；全外连接(full)。</p><p>​ 交叉连接(cross)</p><h4 id=sq92>sq92:</h4><ol><li><p>等值连接</p><p>例：</p></li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>last_name,<span style=color:#bbb> </span>department_name<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees,<span style=color:#bbb> </span>departments<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>employees.<span style=color:#b44>&#39;department_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>departments.<span style=color:#b44>&#39;department_id&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>last_name,<span style=color:#bbb> </span>e.<span style=color:#b44>&#39;job_id&#39;</span>,<span style=color:#bbb> </span>job_title<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e,<span style=color:#bbb> </span>jobs<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>j<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;job_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>j.<span style=color:#b44>&#39;job_id&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>注意：如果为表起了别名，则查询的字段（select）就不能使用原来的表名去限定</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>last_name,<span style=color:#bbb> </span>depatment_name<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e,<span style=color:#bbb> </span>departments<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>d<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;department_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>d.<span style=color:#b44>&#39;department_id&#39;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>and</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;commission_pct&#39;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>is</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>not</span><span style=color:#bbb> </span><span style=color:#800>null</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>department_name,<span style=color:#bbb> </span>city<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>departments<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>d,<span style=color:#bbb> </span>location<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>l<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>d.<span style=color:#b44>&#39;location_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>l.<span style=color:#b44>&#39;location_id&#39;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>and</span><span style=color:#bbb> </span>city<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>like</span><span style=color:#bbb> </span><span style=color:#b44>&#39;_o%&#39;</span><span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#可以添加分组和排序
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#666>*</span>)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span><span>个数</span>,<span style=color:#bbb> </span>city<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>departments<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>d,<span style=color:#bbb> </span>locations<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>l<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>d.<span style=color:#b44>&#39;location_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>l.<span style=color:#b44>&#39;location_id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>city;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>job_title,<span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#666>*</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e,<span style=color:#bbb> </span>jobs<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>j<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;job_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>j.<span style=color:#b44>&#39;job_id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>job_title<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>order</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#666>*</span>)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>desc</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>总结</p><p>1.多表等值连接的结果为多表的交集部分</p><p>2.n表连接，至少需要n-1个连接条件</p><p>3.多表的顺序没有要求</p><p>4.一般需要为表起别名</p><p>5.可以搭配前面介绍的所有子句使用，比如排序、分组、筛选</p><p>​ 2.非等值连接</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>salary,<span style=color:#bbb> </span>grade_level<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>emoloyees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e,<span style=color:#bbb> </span>job_grades<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>g<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>salary<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>between</span><span style=color:#bbb> </span>g.<span style=color:#b44>&#39;lowest_sal&#39;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>and</span><span style=color:#bbb> </span>g.<span style=color:#b44>&#39;hightest_sal&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>and</span><span style=color:#bbb> </span>g.<span style=color:#b44>&#39;grade_level&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:#b44>&#39;A&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>​ 3.自连接</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;employee_id&#39;</span>,<span style=color:#bbb> </span>e.<span style=color:#b44>&#39;last_name&#39;</span>,<span style=color:#bbb> </span>m.<span style=color:#b44>&#39;employee_id&#39;</span>,<span style=color:#bbb> </span>m.<span style=color:#b44>&#39;last_name&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e,<span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>m<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;manager_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>m.<span style=color:#b44>&#39;employee_id&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><h4 id=sq99>sq99:</h4><p>内连接</p><p>特点：</p><p>添加排序、分组、筛选</p><p>inner可以省略</p><p>筛选条件放在where后面，连接条件放在on后面，提高分离性，便于阅读</p><p>inner join连接和sql92语法中的等值连接效果是一样的</p><p>​ 1.等值连接</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#语法
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span>查询列表</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span>表</span><span style=color:#666>1</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>inner</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span><span>表</span><span style=color:#666>2</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span><span>连接条件</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>last_name,<span style=color:#bbb> </span>department_name<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>inner</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>departments<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>d<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;department_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>d.<span style=color:#b44>&#39;department_id&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>last_name,<span style=color:#bbb> </span>job_title<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>inner</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>jobs<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> 
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;job_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>j.<span style=color:#b44>&#39;job_id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;last_name&#39;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>like</span><span style=color:#bbb> </span><span style=color:#b44>&#39;%e%&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>city,<span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#666>*</span>)<span style=color:#bbb> </span><span>部门个数</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>departments<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>d<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>inner</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>lacations<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>l<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span>d.<span style=color:#b44>&#39;location_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>l.<span style=color:#b44>&#39;location_id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>city<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>having</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#666>*</span>)<span style=color:#666>&gt;</span><span style=color:#666>2</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>last<span style=color:#bbb> </span>name,<span style=color:#bbb> </span>department_name,<span style=color:#bbb> </span>job_title<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>inner</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>departments<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>d<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;department_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>d.<span style=color:#b44>&#39;department_id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>inner</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>jobs<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>j<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;job_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>j.<span style=color:#b44>&#39;job_id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>order</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>department_name<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>desc</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>​ 2.非等值连接</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>salary,<span style=color:#bbb> </span>grade_level<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>job_grades<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>g<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;salary&#39;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>between</span><span style=color:#bbb> </span>g.<span style=color:#b44>&#39;lowest_sal&#39;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>and</span><span style=color:#bbb> </span>g.<span style=color:#b44>&#39;highest_sal&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>​ 3.自连接</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>e.last_name,<span style=color:#bbb> </span>m.last_name<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>m<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;manager_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>m.<span style=color:#b44>&#39;employee_id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;last_name&#39;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>like</span><span style=color:#bbb> </span><span style=color:#b44>&#39;%k%&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>外连接</p><p>应用场景：用于查询一个表中有，而另一个表中没有的记录</p><p>特点：</p><p>1.外连接的查询结果为主表中的所有记录</p><p>​ 如果从表中有和它匹配的，则显示匹配的值</p><p>​ 如果从表中没有和它匹配的，则显示null</p><p>​ 外连接查询结果=内连接查询结果+主表中有而从表中没有的记录</p><p>2.左外连接，left join左边的是主表</p><p>右外连接，right join右边的是主表</p><p>3.左外和右外交换两个表的顺序，可以实现同样的效果</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#左外连接
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>d.<span style=color:#666>*</span>,<span style=color:#bbb> </span>e.<span style=color:#b44>&#39;employee_id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>departments<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>d<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>left</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span>d.<span style=color:#b44>&#39;department_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;department_id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;employee_id&#39;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>is</span><span style=color:#bbb> </span><span style=color:#800>null</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#右外连接
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>d.<span style=color:#666>*</span>,<span style=color:#bbb> </span>e.<span style=color:#b44>&#39;employee_id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>right</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>departments<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>d<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span>d.<span style=color:#b44>&#39;department_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;department_id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;employee_id&#39;</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>is</span><span style=color:#bbb> </span><span style=color:#800>null</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>交叉连接：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#本质为实现笛卡尔乘积
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>girls.<span style=color:#666>*</span>,<span style=color:#bbb> </span>boys.<span style=color:#666>*</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>girls<span style=color:#bbb> 
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>cross</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>boys;<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=子查询>子查询</h3><p>含义：</p><p>出现在其他语句中的select语句，称为子查询。内部嵌套其他select语句的查询，称为主查询。</p><p>分类：</p><p>按子查询出现的位置。</p><p>按结果集的行列数不同。标量子查询（一行一列）；列子查询（一列多行）；行子查询（一行多列）；表子查询（多行多列）</p><p>​ 1.标量子查询</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#666>*</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>salary<span style=color:#666>&gt;</span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>				</span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>salary<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>				</span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>				</span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>last_name<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:#b44>&#39;Abel&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>				</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>last_name,<span style=color:#bbb> </span>job_id,<span style=color:#bbb> </span>salary<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>job_id<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    			</span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>job_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>				</span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>				</span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>employee_id<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:#666>141</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>               </span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>and</span><span style=color:#bbb> </span>salary<span style=color:#bbb> </span><span style=color:#666>&gt;</span><span style=color:#bbb> </span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>				</span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>salary<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>				</span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>				</span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>employee_id<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:#666>143</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>);<span style=color:#bbb>
</span></span></span></code></pre></div><p>​ 2.列子查询</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>last_name<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>department_id<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>in</span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>						</span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>distinct</span><span style=color:#bbb> </span>department_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>						</span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>departments<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>						</span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>location_id<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>in</span>(<span style=color:#666>1400</span>,<span style=color:#666>1700</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>);<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>last_name<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>department_id<span style=color:#bbb> </span><span style=color:#666>=</span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>						</span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>distinct</span><span style=color:#bbb> </span>department_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>						</span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>departments<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>						</span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>location_id<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>in</span>(<span style=color:#666>1400</span>,<span style=color:#666>1700</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>);<span style=color:#bbb>
</span></span></span></code></pre></div><p>​ 3.行子查询</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#666>*</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>(employee_id,<span style=color:#bbb> </span>salary)<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>								</span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>min</span>(employee_id,<span style=color:#bbb> </span><span style=color:#00a000>max</span>(salary)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>                                </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees)<span style=color:#bbb>
</span></span></span></code></pre></div><p>​ 4.select 后面的子查询</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>d.<span style=color:#666>*</span>,(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>			</span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>count</span>(<span style=color:#666>*</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>			</span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    		</span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;department_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>d.<span style=color:#b44>&#39;department_id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>departments<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>d;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>		</span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>department_name<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    	</span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>departments<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>d<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    	</span><span style=color:#a2f;font-weight:700>inner</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>e<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    	</span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span>d.<span style=color:#b44>&#39;d.department_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;department+id&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    	</span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>e.<span style=color:#b44>&#39;employee_id&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:#666>102</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>)<span style=color:#bbb> </span><span>部门名</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>​ 5.from后面的子查询</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>ag_dep.<span style=color:#666>*</span>,<span style=color:#bbb> </span>g.<span style=color:#b44>&#39;grade_level&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>		</span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#00a000>avg</span>(salary),<span style=color:#bbb> </span>department_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>		</span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>		</span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>department_id<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>ag_dep<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>inner</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>job_grades<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>as</span><span style=color:#bbb> </span>g<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span>ag_dep.ag<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>between</span><span style=color:#bbb> </span>lowest_sal<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>and</span><span style=color:#bbb> </span>highest_sal;<span style=color:#bbb>
</span></span></span></code></pre></div><p>​ 6.exists后面（相关子查询）</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>exists</span>(<span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span>employee_id<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>salary<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:#666>30000</span>);<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=分页查询>分页查询</h3><p>应用场景：当要显示的数据，一页显示不全，需要分页提交sql请求</p><p>语法：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span>查询列表</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span><span>表</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>(<span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span>type)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span><span>表</span><span style=color:#666>2</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span><span>筛选条件</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span><span>分组字段</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>having</span><span style=color:#bbb> </span><span>分组后的筛选</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>order</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span><span>排序</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>limit</span><span style=color:#bbb> </span>offset,<span style=color:#bbb> </span>size;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#offset要显示条目的起始索引（起始索引从0开始）(page-1)*s
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic>#size 要显示的条目个数
</span></span></span></code></pre></div><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#查询前5条员工信息
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#666>*</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>limit</span><span style=color:#bbb> </span><span style=color:#666>0</span>,<span style=color:#666>5</span><span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#查询第11条到第25条员工信息
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#666>*</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb> 
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>limit</span><span style=color:#bbb> </span><span style=color:#666>10</span>,<span style=color:#666>15</span><span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#有奖金的员工信息，并且工资前10名显示
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#666>*</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>commision_pct<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>is</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>not</span><span style=color:#bbb> </span><span style=color:#800>null</span><span style=color:#bbb> 
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>order</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>by</span><span style=color:#bbb> </span>salary<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>desc</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>limit</span><span style=color:#bbb> </span><span style=color:#666>10</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>特点：</p><p>1.limit语句放在查询语句的最后，执行逻辑也是在最后</p><h3 id=联合查询>联合查询</h3><p>语法：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span>查询语句</span><span style=color:#666>1</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>union</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span>查询语句</span><span style=color:#666>2</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>应用场景：</p><p>用于将多个表中相似信息连接在一起</p><p>特点：</p><p>1.要求多条查询语句的查询列表是一致的！</p><p>2.要求多条查询语句查询的每一列的类型和顺序是一致的</p><p>3.union关键字默认去重，如果使用union all可以包含重复项</p><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#666>*</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>email<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>like</span><span style=color:#bbb> </span><span style=color:#b44>&#39;%a%&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>union</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>select</span><span style=color:#bbb> </span><span style=color:#666>*</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>from</span><span style=color:#bbb> </span>employees<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span>department_id<span style=color:#666>&gt;</span><span style=color:#666>90</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><h2 id=dml语言的学习>DML语言的学习</h2><p>数据操作语言：数据的插入 insert，修改 update，删除 delete</p><h3 id=插入语句>插入语句</h3><p>语法一：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>insert</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>into</span><span style=color:#bbb> </span><span>表名</span>(<span>列名</span>,...)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>values</span>(<span>值</span><span style=color:#666>1</span>,...);<span style=color:#bbb>
</span></span></span></code></pre></div><p>例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#不可以为null的值必须插入值，可以为null的列如何插入值？
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#a2f;font-weight:700>insert</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>into</span><span style=color:#bbb> </span><span style=color:#00a000>beauty</span>(id,<span style=color:#bbb> </span>name,<span style=color:#bbb> </span>sex,<span style=color:#bbb> </span>phone)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>values</span>(<span style=color:#666>15</span>,<span style=color:#b44>&#39;王心凌&#39;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#39;女&#39;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#39;13888888888&#39;</span>)<span style=color:#bbb>
</span></span></span></code></pre></div><p>语法二：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>insert</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>into</span><span style=color:#bbb> </span><span>表名</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#0b0;font-weight:700>set</span><span style=color:#bbb> </span><span>列名</span><span style=color:#666>=</span><span>值</span>,<span>列名</span><span style=color:#666>=</span><span>值</span>...;<span style=color:#bbb>
</span></span></span></code></pre></div><p>注：</p><p>1.方式一可以省略列名，但添加值的顺序必须和表中的顺序一致</p><p>2.方式一可以支持插入多行，方式二不支持</p><p>3.方式一支持子查询，省略了values()，方式二不支持</p><h3 id=修改语句>修改语句</h3><p>语法：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>update</span><span style=color:#bbb> </span><span>表名</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#0b0;font-weight:700>set</span><span style=color:#bbb> </span><span>列</span><span style=color:#666>=</span><span>新值</span>,<span style=color:#bbb> </span><span>列</span><span style=color:#666>=</span><span>新值</span>...<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span><span>筛选条件</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#666>&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>update</span><span style=color:#bbb> </span><span>表</span><span style=color:#666>1</span><span style=color:#bbb> </span><span>别名</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>inner</span><span style=color:#bbb> </span>(<span style=color:#a2f;font-weight:700>right</span>,<span style=color:#a2f;font-weight:700>left</span>)<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>join</span><span style=color:#bbb> </span><span>表</span><span style=color:#666>2</span><span style=color:#bbb> </span><span>别名</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>on</span><span style=color:#bbb> </span><span>连接条件</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#0b0;font-weight:700>set</span><span style=color:#bbb> </span><span>列</span><span style=color:#666>=</span><span>值</span>...<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>where</span><span style=color:#bbb> </span><span>筛选条件</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=删除语句>删除语句</h3><p>语法：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>delete from 表名
</span></span><span style=display:flex><span>where 筛选条件;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>truncate table 表名;
</span></span></code></pre></div><p>1.delete可以加where条件，truncate不能加</p><p>2.truncate删除，效率比delete高</p><p>3.假如要删除的表中有自增长列，如果用delete删除后，再插入数据，自增长列的值从断点开始，而如果truncate删除后，再插入数据，自增长列的值从1开始。</p><p>4.truncate删除后没有返回值，而delete删除后有返回值。</p><p>5.truncate删除不能回滚，而delete删除可以回滚。</p><p>##DDL 数据定义语言</p><p>库和表的管理</p><p>一、库的管理：创建、修改、删除</p><p>二、表的管理：创建、修改、删除、复制</p><p>创建：create，修改alter，删除drop</p><p>###一、库的管理</p><p>1.库的创建</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>create database if not exists 库名;
</span></span></code></pre></div><p>2.库的修改</p><p>更改库的字符集</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>alter database 库名 character set gbk;
</span></span></code></pre></div><p>3.库的删除</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>drop database if exists 库名;
</span></span></code></pre></div><p>###二、表的创建</p><p>1.表的创建</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>create table if not exists 表名(
</span></span><span style=display:flex><span>列名, 列的类型, [(长度) 约束],
</span></span><span style=display:flex><span>列名, 列的类型, [(长度) 约束],
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>列名, 列的类型, [(长度) 约束]
</span></span><span style=display:flex><span>);
</span></span></code></pre></div><p>2.表的修改</p><p>修改列名</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>alter table 表名 change column 旧列名 新列名 类型;
</span></span></code></pre></div><p>列的类型或约束</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>alter table 表名 modify column 列名 新类型;
</span></span></code></pre></div><p>添加列</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>alter table 表名 add column 新列名 新类型;
</span></span></code></pre></div><p>删除列</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>alter table 表名 drop column 列名;
</span></span></code></pre></div><p>修改表名</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>alter table 表名 rename to 新表名;
</span></span></code></pre></div><p>3.表的删除</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>drop table if exists 表名;
</span></span></code></pre></div><p>4.表的复制</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>只复制表的结构
</span></span><span style=display:flex><span>create table 新表名 like 旧表名;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>复制表的结构和数据
</span></span><span style=display:flex><span>create table 新表名
</span></span><span style=display:flex><span>select * from 旧表名
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>只复制部分数据
</span></span><span style=display:flex><span>create table 新表名
</span></span><span style=display:flex><span>select 内容1，内容2
</span></span><span style=display:flex><span>from 旧表名
</span></span><span style=display:flex><span>where 条件;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>只复制某些字段
</span></span><span style=display:flex><span>create table 新表名
</span></span><span style=display:flex><span>select 内容
</span></span><span style=display:flex><span>from 旧表名
</span></span><span style=display:flex><span>where 0;
</span></span></code></pre></div><p>##常见的数据类型
数值型：整型，小数（定点数、浮点数）
字符型：较短的文本char,varchar，较长的文本text,blob（较长的二进制数据）
日期型：</p><p>###一、整型</p><table><thead><tr><th>整数类型</th><th>字节</th><th>范围</th></tr></thead><tbody><tr><td>tinyint</td><td>1</td><td>有符号：-128~127，无符号：0~255</td></tr><tr><td>smallint</td><td>2</td><td>有符号：-32768~32767，无符号：0~65535</td></tr><tr><td>mediumint</td><td>3</td><td>有符号：-8388608~8388607，无符号：0~1677215</td></tr><tr><td>int/integer</td><td>4</td><td>有符号：-2147483648~2147483647，无符号：0~4294967295</td></tr><tr><td>bigint</td><td>8</td><td>有符号：-2^64-1~2^64，无符号2^65+1</td></tr><tr><td>特点：</td><td></td><td></td></tr><tr><td>1.如果不设置无符号还是有符号，默认是有符号，如果想设置无符号，需要添加unsigned关键字。</td><td></td><td></td></tr><tr><td>2.如果插入的数值超出了整型的范围，会报out of range异常，并且插入临界值。</td><td></td><td></td></tr><tr><td>3.如果不设置长度，会有默认的长度</td><td></td><td></td></tr><tr><td>4.若要设置显示宽度，则在数据类型后面加上（要显示的长度），如果不够会用0在左边填充，但必须搭配关键字zerofill写在数据类型后使用。</td><td></td><td></td></tr></tbody></table><p>1.如何设置有符号和无符号</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt;
</span></span><span style=display:flex><span>drop table if exists tab_int
</span></span><span style=display:flex><span>create table tab_int(
</span></span><span style=display:flex><span>    t1 int,
</span></span><span style=display:flex><span>    t2 int unsigned
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>insert into tab_int values(-123)
</span></span><span style=display:flex><span>insert into tab_int values(-123);
</span></span></code></pre></div><p>###二、小数</p><table><thead><tr><th>浮点数类型</th><th>字节</th></tr></thead><tbody><tr><td>float</td><td>4</td></tr><tr><td>double</td><td>8</td></tr></tbody></table><table><thead><tr><th>定点数类型</th><th>字节</th></tr></thead><tbody><tr><td>decimal(M,D)</td><td>M+2</td></tr><tr><td>特点：</td><td></td></tr><tr><td>1.M表示整数位数+小数位数，D表示小数点后数字的位数，如果小数点后位数超出会自动四舍五入，如果整数部分超出整数位数则会插入临界值。</td><td></td></tr><tr><td>2.M和D都可以省略，会生成默认长度</td><td></td></tr></tbody></table><p>###三、字符型
较短的文本：char,varchar，
其他：binary和varbinary用于保存较短的二进制，enum用于保存枚举，set用于保存集合
较长的文本：text,blob（较长的二进制数据）
字符串类型|最多字符数|描述及存储需求|特点|空间耗费|效率
&ndash;|&ndash;|&ndash;|&ndash;|&ndash;|
char(M)|M，可以省略，默认为1|M为0~255之间的整数|固定长度的字符|比较耗费|高
varchar(M)|M，不能省略|M为0~65535之间的整数|可变长度的字符|比较节省|低</p><p>###四、日期型</p><table><thead><tr><th>字符串类型</th><th>字节</th><th>最小值</th><th>最大值</th></tr></thead><tbody><tr><td>date</td><td>4</td><td>1000-01-01</td><td>9999-12-31</td></tr><tr><td>datetime</td><td>8</td><td>1000-01-01 00:00:00</td><td>9999-12-31 23:59:59</td></tr><tr><td>timestamp</td><td>4</td><td>1970年</td><td>2038年的某个时刻</td></tr><tr><td>time</td><td>3</td><td>-838:59:59</td><td>838:59:59</td></tr><tr><td>year</td><td>1</td><td>1901</td><td>2155</td></tr></tbody></table></div><footer class=post-footer><div class=post-tags><a href=/tags/sql rel=tag title=SQL>#SQL#</a></div><div class=addthis_inline_share_toolbox></div><div class=post-nav><div class=article-copyright><div class=article-copyright-img><img src=/img/qq_qrcode.jpg width=129px height=129px><div style=text-align:center>QQ扫一扫交流</div></div><div class=article-copyright-info><p><span>声明：</span>Mysql-use notes</p><p><span>链接：</span>https://murphyhanxu.github.io/post/mysql-use/</p><p><span>作者：</span>Murphy</p><p><span>声明： </span>本博客文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/3.0/ target=_blank style=text-decoration:underline>CC BY-NC-SA 3.0</a>许可协议，转载请注明出处！</p></div></div><div class=clear></div></div><div class=reward-qr-info><div>创作实属不易，如有帮助，那就打赏博主些许茶钱吧 ^_^</div><button id=rewardButton disable=enable onclick='var qr=document.getElementById("QR");qr.style.display==="none"?qr.style.display="block":qr.style.display="none"'>
<span>赏</span></button><div id=QR style=display:none><div id=wechat style=display:inline-block><img id=wechat_qr src=/img/wechat-pay.png alt="WeChat Pay"><p>微信打赏</p></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=https://murphyhanxu.github.io/post/montecarlo/ rel=next title=蒙特卡洛算法基于python的简单实现><i class="fa fa-chevron-left"></i> 蒙特卡洛算法基于python的简单实现</a></div><div class="post-nav-prev post-nav-item"><a href=https://murphyhanxu.github.io/post/mysql-install/ rel=prev title="Win 10环境下安装MySQL 5.7">Win 10环境下安装MySQL 5.7
<i class="fa fa-chevron-right"></i></a></div></div><div id=wcomments></div></footer></article></section></div></div><div class=sidebar-toggle><div class=sidebar-toggle-line-wrap><span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id=sidebar class=sidebar><div class=sidebar-inner><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image src=/img/avatar.png alt=Murphy><p class=site-author-name itemprop=name>Murphy</p><p class="site-description motion-element" itemprop=description>谁的脸谁的姓名</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href=/post/><span class=site-state-item-count>13</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>1</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>6</span>
<span class=site-state-item-name>标签</span></a></div></nav><div class="links-of-author motion-element"><span class=links-of-author-item><a href=https://github.com/MurphyHanxu target=_blank title=GitHub><i class="fa fa-fw fa-github"></i>
GitHub</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class=links-of-blogroll-title><i class="fa fa-fw fa-globe"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://www.liaoxuefeng.com/ title=廖雪峰 target=_blank>廖雪峰</a></li><li class=links-of-blogroll-item><a href=https://math.mickeylili.com/ title=Mickeylili target=_blank>Mickeylili</a></li></ul></div><div class="tagcloud-of-blogroll motion-element tagcloud-of-blogroll-inline"><div class=tagcloud-of-blogroll-title><i class="fa fa-fw fa-tags"></i>
标签云</div><ul class=tagcloud-of-blogroll-list><li class=tagcloud-of-blogroll-item><a href=/tags/machine-learning>Machine learning</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/github-pages>Github pages</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/python>Python</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/hugo>Hugo</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/sql>SQL</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/mathematical-modeling>Mathematical modeling</a></li></ul></div></section></div></aside></div></main><footer id=footer class=footer><div class=footer-inner><div class=copyright><span class=copyright-year>&copy; 2010 - 2022</span>
<span class=with-love><i class="fa fa-heart"></i></span>
<span class=copyright-author>奔赴下一场山海</span></div></div></footer><div class=back-to-top><i class="fa fa-arrow-up"></i>
<span id=scrollpercent><span>0</span>%</span></div></div><script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/2.1.4/jquery.min.js></script>
<script type=text/javascript src=/js/search.js></script>
<script type=text/javascript src=/js/affix.js></script>
<script type=text/javascript src=/js/scrollspy.js></script>
<script type=text/javascript>function detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),s=e.indexOf("Edge/");return t>0||n>0||s>0?-1:1}function getCntViewHeight(){var t=$("#content").height(),e=$(window).height(),n=t>e?t-e:$(document).height()-e;return n}function getScrollbarWidth(){var e=$("<div />").addClass("scrollbar-measure").prependTo("body"),t=e[0],n=t.offsetWidth-t.clientWidth;return e.remove(),n}function registerBackTop(){var t=50,e=$(".back-to-top");$(window).on("scroll",function(){e.toggleClass("back-to-top-on",window.pageYOffset>t);var s=$(window).scrollTop(),o=getCntViewHeight(),i=s/o,n=Math.round(i*100),a=n>100?100:n;$("#scrollpercent>span").html(a)}),e.on("click",function(){$("html,body").animate({scrollTop:0,screenLeft:0},800)})}function initScrollSpy(){var e=".post-toc",s=$(e),t=".active-current";s.on("activate.bs.scrollspy",function(){var t=$(e+" .active").last();n(),t.addClass("active-current")}).on("clear.bs.scrollspy",n),$("body").scrollspy({target:e});function n(){$(e+" "+t).removeClass(t.substring(1))}}function initAffix(){var e=$(".header-inner").height(),t=parseInt($(".main").css("padding-bottom"),10),n=e+10;$(".sidebar-inner").affix({offset:{top:n,bottom:t}}),$(document).on("affixed.bs.affix",function(){updateTOCHeight(document.body.clientHeight-100)})}function initTOCDimension(){$(window).on("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){var e=document.body.clientHeight-100;updateTOCHeight(e)},0)}),updateTOCHeight(document.body.clientHeight-100);var e,t=getScrollbarWidth();$(".post-toc").css("width","calc(100% + "+t+"px)")}function updateTOCHeight(e){e=e||"auto",$(".post-toc").css("max-height",e)}$(function(){var e,t,n,s,o=$(".header-inner").height()+10;$("#sidebar").css({'margin-top':o}).show(),t=parseInt($("#sidebar").css("margin-top")),n=parseInt($(".sidebar-inner").css("height")),e=t+n,s=$(".content-wrap").height(),s<e&&$(".content-wrap").css("min-height",e),$(".site-nav-toggle").on("click",function(){var e=$(".site-nav"),o=$(".toggle"),t="site-nav-on",i="toggle-close",n=e.hasClass(t),a=n?"slideUp":"slideDown",s=n?"removeClass":"addClass";e.stop()[a]("normal",function(){e[s](t),o[s](i)})}),registerBackTop(),initScrollSpy(),initAffix(),initTOCDimension(),$(".sidebar-nav-toc").click(function(){$(this).addClass("sidebar-nav-active"),$(this).next().removeClass("sidebar-nav-active"),$("."+$(this).next().attr("data-target")).toggle(500),$("."+$(this).attr("data-target")).toggle(500)}),$(".sidebar-nav-overview").click(function(){$(this).addClass("sidebar-nav-active"),$(this).prev().removeClass("sidebar-nav-active"),$("."+$(this).prev().attr("data-target")).toggle(500),$("."+$(this).attr("data-target")).toggle(500)})})</script><script src=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.js></script>
<script type=text/javascript>$(function(){$(".post-body").viewer()})</script><script type=text/javascript>$(function(){detectIE()>0?$.getScript(document.location.protocol+"//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js",function(){new Waline({el:"#wcomments",visitor:!0,avatar:"wavatar",avatarCDN:"https://sdn.geekzu.org/avatar/",avatarForce:!1,wordLimit:"200",placeholder:" 欢迎留下您的宝贵建议，请填写您的昵称和邮箱便于后续交流. ^_^ ",requiredFields:["nick","mail"],serverURL:"Your WalineSerURL",lang:"zh-cn"})}):$("#wcomments").html("抱歉，Waline插件不支持IE或Edge，建议使用Chrome浏览器。")})</script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=Your%20AddthisId"></script>
<script>(function(){var t,e=document.createElement("script"),n=window.location.protocol.split(":")[0];n==="https"?e.src="https://zz.bdstatic.com/linksubmit/push.js":e.src="http://push.zhanzhang.baidu.com/push.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script></body></html>